<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quên mật khẩu</title>
</head>

<body style="background: #f0f2f5;">
    <table>
        <tr>
            <td>

                <img src="./Screenshot_1.png">

            </td>
            <td>

                <table style="background-color: white; border-radius: 15px;padding-left: 10px;">
                    <tr>
                        <h2>Tìm tài khoản của bạn</h2>
                        <hr>
                    </tr>
                    <tr>
                        <td>
                            Vui lòng nhập email hoặc số điện thoại để tìm kiếm tài khoản

                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="text" name="email" id="email1" style="width: 96%;"
                                placeholder="Email và số điện thoại" class="input1" />
                            <h5 id="inEmail" style="color: red;"></h5>
                            <h5 id="thanhcong" style="color: rgb(107, 3, 81);"></h5>

                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" align="center">
                            <input type="button" name="tk" class="nut" id="tkk" value="Tìm kiếm"
                                style="background: rgb(96, 70, 245);" onclick="objTimKiem.kiemtra_email();">
                            <input type="button" name="huy" class="nut" value="Hủy"
                                style="background: rgb(184, 189, 194);" onclick="objTimKiem.huy();">
                        </td>
                    </tr>
                </table>

            </td>
        </tr>
    </table>
    <p id="otp"></p>
    <script>
        class TimKiem {
            constructor() {
                this.email = "";
                this.otp = document.getElementById('otp');
                this.ma = "";
                this.a = "";
            }
            kiemtra_email() {
                this.email = document.getElementById('email1').value;
                if (this.email != "") {
                    document.getElementById('thanhcong').innerHTML = (`Đã gửi mã OTP qua: ${this.email} để đặt lại mật khẩu cho bạn.`);
                    this.otp.innerHTML = `<p>Nhập mã OTP vào: </p>  <input type="text" placeholder="Nhập OTP" id="ma"> <br> <br> 
                                        <input type="button" name="ok" class="nut" value="OK" onclick="objTimKiem.OK();">
                                        <input type="button" name="gl" class="nut" value="Gửi lại" 
                                        onclick="objTimKiem.gui_lai();" > `;

                }
                if (this.email == "") {
                    document.getElementById('inEmail').innerHTML = ('Email và số điện thoại không được để trống !');
                } else {
                    document.getElementById('inEmail').innerHTML = ('');
                    var b = Math.floor(Math.random() * 100000);
                    setTimeout(function () {
                        alert(b)
                    }, 2000);
                    this.a = b;
                }


            }
            gui_lai() {
                var c = Math.floor(Math.random() * 100000);
                setTimeout(function () {
                    alert(c)
                }, 2000);
                this.b = c;
            }
            OK() {
                this.ma = document.getElementById('ma').value;
                if (this.ma == this.a || this.ma == this.b) {
                    alert(`123456 là mật khẩu mới của bạn.
                    Lấy lại mật khẩu fakebook thành công !`);
                } else {
                    document.getElementById('ma').innerHTML = 'Mã sai !';
                }
                document.getElementById('ma').value = '';
                // document.getElementById('email1').value = '';
                setTimeout(function () {
                    window.location.href = 'quen_mat_khau.html';
                }, 18000);

            }

            huy() {
                window.location.href = 'trang_chu.html';
            }
        }
        objTimKiem = new TimKiem();
        var t_kiem = document.getElementById('tkk');



    </script>

</body>

</html>